<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yago & Jeniph | Nosso Casamento</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Variáveis CSS para cores e fontes */
        :root {
            --cor-azul-claro: #E0FFFF; /* Azure */
            --cor-azul-escuro: #00008B; /* DarkBlue */
            --cor-azul-medio: #4169E1; /* RoyalBlue */
            --cor-branco: #FFFFFF;
            --cor-cinza-claro: #F8F8FF; /* GhostWhite */
            --cor-texto-claro: #F0F8FF; /* AliceBlue */

            --fonte-titulo: 'Dancing Script', cursive;
            --fonte-geral: 'Montserrat', sans-serif;
        }

        body {
            font-family: var(--fonte-geral);
            margin: 0;
            padding: 0;
            background: linear-gradient(to bottom, var(--cor-azul-claro) 0%, var(--cor-cinza-claro) 100%);
            color: var(--cor-azul-escuro);
            text-align: center;
            line-height: 1.7;
            overflow-x: hidden; /* Evita barra de rolagem horizontal */
        }

        .container {
            max-width: 960px;
            margin: 40px auto;
            padding: 30px;
            background-color: var(--cor-branco);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            animation: fadeIn 1.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Estilo do Menu de Navegação (Navbar) */
        .navbar {
            background-color: var(--cor-azul-escuro);
            padding: 15px 0;
            position: sticky; /* Fica fixo ao rolar */
            top: 0;
            width: 100%;
            z-index: 1000; /* Garante que fique acima de outros elementos */
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .navbar ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            justify-content: center;
            flex-wrap: wrap; /* Permite que os itens quebrem linha em telas menores */
        }

        .navbar li {
            margin: 0 15px; /* Espaçamento entre os itens do menu */
        }

        .navbar a {
            color: var(--cor-texto-claro);
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1em;
            padding: 8px 15px; /* Aumenta a área clicável */
            transition: color 0.3s ease, background-color 0.3s ease;
            border-radius: 5px;
            display: block; /* Para que o padding funcione em toda a área do link */
        }

        .navbar a:hover {
            color: var(--cor-azul-claro);
            background-color: rgba(255, 255, 255, 0.1);
        }

        header {
            background-color: var(--cor-azul-escuro);
            color: var(--cor-texto-claro);
            padding: 60px 0;
            margin: -30px -30px 30px -30px; /* Expande para as bordas do container */
            border-radius: 20px 20px 0 0;
            position: relative;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        header h1 {
            font-family: var(--fonte-titulo);
            font-size: 5em; /* Fonte maior para os nomes */
            margin: 0;
            line-height: 1;
            text-shadow: 3px 3px 8px rgba(0, 0, 0, 0.4);
        }

        header p {
            font-family: var(--fonte-geral);
            font-size: 1.8em;
            margin-top: 15px;
            font-weight: 300;
        }

        h2 {
            font-family: var(--fonte-titulo);
            color: var(--cor-azul-escuro);
            font-size: 3.2em;
            margin-top: 50px;
            margin-bottom: 25px;
            position: relative;
            padding-bottom: 10px;
        }

        h2::after {
            content: '';
            position: absolute;
            left: 50%;
            bottom: 0;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background-color: var(--cor-azul-medio);
            border-radius: 5px;
        }

        p {
            font-size: 1.1em;
            margin-bottom: 20px;
            color: #333;
        }

        .section-content {
            margin-bottom: 40px;
            padding: 0 20px;
        }

        .highlight-box {
            background-color: var(--cor-cinza-claro);
            padding: 30px;
            border-radius: 15px;
            margin-top: 40px;
            margin-bottom: 50px;
            box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.08);
            border: 1px solid var(--cor-azul-claro);
        }

        .highlight-box p {
            font-size: 1.3em;
            font-weight: 600;
            color: var(--cor-azul-escuro);
            margin: 10px 0;
        }

        /* Estilo do contador regressivo */
        #countdown {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .countdown-item {
            background-color: var(--cor-azul-medio);
            color: var(--cor-branco);
            padding: 20px 25px;
            border-radius: 15px;
            min-width: 120px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease;
        }

        .countdown-item:hover {
            transform: translateY(-5px);
            background-color: var(--cor-azul-escuro);
        }

        .countdown-item .number {
            font-size: 2.8em;
            font-weight: 700;
            display: block;
            margin-bottom: 5px;
        }

        .countdown-item .label {
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn {
            display: inline-block;
            background-color: var(--cor-azul-medio);
            color: var(--cor-branco);
            padding: 14px 30px;
            margin: 15px 10px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1em;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .btn:hover {
            background-color: var(--cor-azul-escuro);
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
        }

        footer {
            margin-top: 60px;
            padding: 25px;
            background-color: var(--cor-azul-escuro);
            color: var(--cor-texto-claro);
            border-radius: 0 0 20px 20px;
            font-size: 0.9em;
            box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.1);
        }

        /* Estilo para Padrinhos (exemplo básico, pode ser expandido) */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .grid-item {
            background-color: var(--cor-cinza-claro);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
            text-align: center;
        }

        .grid-item h3 {
            font-family: var(--fonte-geral);
            color: var(--cor-azul-escuro);
            font-size: 1.4em;
            margin-bottom: 10px;
        }

        .grid-item p {
            font-size: 1em;
            color: #555;
        }

        /* Estilo para a Galeria de Fotos */
        .photo-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* 3 colunas em telas maiores, ajusta para menores */
            gap: 20px;
            margin-top: 30px;
            padding: 0 20px;
        }

        .photo-item {
            background-color: var(--cor-cinza-claro);
            border-radius: 10px;
            overflow: hidden; /* Garante que a imagem não saia dos limites */
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .photo-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        .photo-item img {
            width: 100%;
            height: 250px; /* Altura fixa para as imagens da galeria */
            object-fit: cover; /* Recorta a imagem para cobrir o espaço sem distorcer */
            display: block; /* Remove espaço extra abaixo da imagem */
            transition: transform 0.3s ease;
        }

        .photo-item img:hover {
            transform: scale(1.05); /* Pequeno zoom ao passar o mouse */
        }

        .photo-item .caption {
            padding: 15px;
            font-size: 1em;
            color: var(--cor-azul-escuro);
        }

        /* Estilos para a Rifa */
        #raffle-numbers {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(60px, 1fr));
            gap: 10px;
            margin-top: 30px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .raffle-number-item {
            background-color: var(--cor-azul-claro);
            border: 2px solid var(--cor-azul-medio);
            border-radius: 8px;
            padding: 15px 10px;
            font-size: 1.5em;
            font-weight: 700;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.1s ease, border-color 0.2s ease;
            color: var(--cor-azul-escuro);
        }

        .raffle-number-item:hover:not(.selected):not(.taken) {
            background-color: var(--cor-azul-medio);
            color: var(--cor-branco);
            transform: scale(1.02);
        }

        .raffle-number-item.selected {
            background-color: var(--cor-azul-medio);
            color: var(--cor-branco);
            border-color: var(--cor-azul-escuro);
        }

        .raffle-number-item.taken {
            background-color: #dee2e6; /* Cinza claro para números ocupados */
            color: #6c757d; /* Texto cinza escuro */
            border-color: #adb5bd;
            cursor: not-allowed;
            text-decoration: line-through;
        }
        
        #raffle-confirmation {
            margin-top: 30px;
            background-color: var(--cor-cinza-claro);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            display: none; /* Escondido por padrão */
        }

        #raffle-confirmation label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--cor-azul-escuro);
        }

        #raffle-confirmation input {
            width: calc(100% - 20px);
            padding: 12px;
            margin-bottom: 15px;
            border: 1px solid var(--cor-azul-medio);
            border-radius: 8px;
            font-size: 1em;
        }

        /* Responsividade */
        @media (max-width: 768px) {
            .navbar ul {
                flex-direction: column; /* Links do menu empilhados em telas pequenas */
                gap: 5px; /* Espaçamento entre os itens empilhados */
            }
            .navbar li {
                margin: 0; /* Remove margem lateral quando empilhado */
            }
            header h1 {
                font-size: 4em;
            }
            header p {
                font-size: 1.5em;
            }
            h2 {
                font-size: 2.5em;
            }
            .countdown-item {
                min-width: 100px;
                padding: 15px 20px;
            }
            .countdown-item .number {
                font-size: 2.2em;
            }
            .btn {
                padding: 12px 25px;
                font-size: 1em;
            }
            .container {
                margin: 20px auto;
                padding: 20px;
            }
            header {
                margin: -20px -20px 20px -20px;
            }
            .photo-gallery {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); /* Ajusta colunas da galeria */
            }
            .photo-item img {
                height: 200px; /* Ajusta altura da imagem em telas menores */
            }
            #raffle-numbers {
                grid-template-columns: repeat(auto-fit, minmax(50px, 1fr));
            }
            .raffle-number-item {
                font-size: 1.3em;
                padding: 12px 8px;
            }
        }

        @media (max-width: 480px) {
            header h1 {
                font-size: 2.8em;
            }
            header p {
                font-size: 1.2em;
            }
            h2 {
                font-size: 2em;
            }
            .countdown-item {
                min-width: 80px;
                padding: 10px 15px;
            }
            .countdown-item .number {
                font-size: 1.8em;
            }
            .countdown-item .label {
                font-size: 0.8em;
            }
            #countdown {
                gap: 15px;
            }
            .grid-container {
                grid-template-columns: 1fr; /* Coluna única em telas muito pequenas */
            }
            .photo-gallery {
                grid-template-columns: 1fr; /* Galeria em coluna única em telas muito pequenas */
                padding: 0 10px;
            }
            .photo-item img {
                height: 180px; /* Ajusta altura da imagem em telas muito pequenas */
            }
            #raffle-numbers {
                grid-template-columns: repeat(auto-fit, minmax(40px, 1fr));
            }
            .raffle-number-item {
                font-size: 1.1em;
                padding: 10px 6px;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <ul>
            <li><a href="#inicio">Início</a></li>
            <li><a href="#convidados">Convidados</a></li>
            <li><a href="#padrinhos">Padrinhos</a></li>
            <li><a href="#data-local">Data & Local</a></li>
            <li><a href="#programacao">Programação</a></li>
            <li><a href="#presentes">Presentes</a></li>
            <li><a href="#fotos">Fotos</a></li>
            <li><a href="#rifa">Rifa</a></li> <li><a href="#historia">Nossa História</a></li>
        </ul>
    </nav>

    <div class="container">
        <header id="inicio">
            <h1>Yago & Jeniph</h1>
            <p>O Grande Dia se Aproxima!</p>
        </header>

        <div class="section-content">
            <p>É com imensa alegria e o coração cheio de amor que convidamos você para celebrar a nossa união e compartilhar este momento tão especial e único em nossas vidas.</p>
        </div>

        <div class="section-content" id="convidados">
            <h2>Queridos Convidados</h2>
            <p>Estamos ansiosos para celebrar este dia tão especial com cada um de vocês! Sua presença é o nosso maior presente.</p>
            <p>Para nos ajudar na organização, por favor, confirme sua presença:</p>
            <p>Pedimos a gentileza de confirmar até **[Data Limite para RSVP, ex: 30 de Setembro de 2025]**.</p>
            <p><a href="[Link para Formulário de RSVP]" class="btn" target="_blank">Confirmar Presença Online</a></p>
            <p class="small-text">(Ex: Google Forms, Typeform ou um link direto de contato)</p>
        </div>

        <div class="section-content" id="padrinhos">
            <h2>Nossos Padrinhos e Madrinhas</h2>
            <p>Agradecemos imensamente a estas pessoas especiais que aceitaram a missão de estar ao nosso lado, abençoando e testemunhando a nossa união.</p>
            <div class="grid-container">
                <div class="grid-item">
                    <h3>[Nome do Padrinho 1]</h3>
                    <p>e [Nome da Madrinha 1]</p>
                </div>
                <div class="grid-item">
                    <h3>[Nome do Padrinho 2]</h3>
                    <p>e [Nome da Madrinha 2]</p>
                </div>
                <div class="grid-item">
                    <h3>[Nome do Padrinho 3]</h3>
                    <p>e [Nome da Madrinha 3]</p>
                </div>
            </div>
            <p style="margin-top: 30px;">Agradecemos por todo o carinho e apoio!</p>
        </div>

        <div class="highlight-box" id="data-local">
            <h2>Data e Local</h2>
            <p>Preparem-se para o nosso "sim"! Será em:</p>
            <p><strong>Data:</strong> 29 de Outubro de 2025</p>
            <p><strong>Horário:</strong> 17h da tarde</p>
            <p><strong>Local:</strong> [Nome do Espaço do Casamento]</p>
            <p><strong>Endereço:</strong> [Endereço Completo, Rua, Número, Bairro]</p>
            <p><strong>Cidade:</strong> [Nome da Cidade], [Estado]</p>
            <p>Para facilitar, aqui está o mapa:</p>
            <p><a href="[Link para o Google Maps do Local]" class="btn" target="_blank">Ver no Mapa</a></p>

            <div id="countdown">
                <div class="countdown-item">
                    <span id="days" class="number"></span>
                    <span class="label">Dias</span>
                </div>
                <div class="countdown-item">
                    <span id="hours" class="number"></span>
                    <span class="label">Horas</span>
                </div>
                <div class="countdown-item">
                    <span id="minutes" class="number"></span>
                    <span class="label">Minutos</span>
                </div>
                <div class="countdown-item">
                    <span id="seconds" class="number"></span>
                    <span class="label">Segundos</span>
                </div>
            </div>
        </div>

        <div class="section-content" id="programacao">
            <h2>Programação do Dia</h2>
            <p>Para que todos possam se organizar e aproveitar ao máximo, segue a programação estimada do nosso grande dia:</p>
            <p><strong>17h00 - Cerimônia Religiosa/Civil:</strong> Início da celebração que unirá nossos corações.</p>
            <p><strong>18h00 - Coquetel de Boas-Vindas:</strong> Um momento para brindarmos e nos confraternizarmos.</p>
            <p><strong>19h30 - Jantar:</strong> Delícias preparadas com carinho para todos os nossos convidados.</p>
            <p><strong>21h00 - Início da Festa:</strong> Hora de celebrar, dançar e se divertir conosco até [Horário previsto para o fim da festa].</p>
            <p style="font-style: italic; color: #666;">*A programação pode sofrer pequenas alterações.</p>
        </div>

        <div class="section-content" id="presentes">
            <h2>Lista de Presentes</h2>
            <p>Sua presença já é o maior presente! Se desejar nos presentear, aqui estão algumas sugestões:</p>
            <p><a href="[Link para Loja de Presentes 1]" class="btn" target="_blank">Loja 1 - [Nome da Loja]</a></p>
            <p><a href="[Link para Loja de Presentes 2]" class="btn" target="_blank">Loja 2 - [Nome da Loja]</a></p>
            <p>Ou, se preferir, nossa chave PIX para nos ajudar com a lua de mel: **[Sua Chave PIX Aqui]**</p>
        </div>

        <div class="section-content" id="fotos">
            <h2>Momentos Especiais</h2>
            <p>Confira alguns momentos que marcaram nossa jornada até aqui!</p>
            <div class="photo-gallery">
                <div class="photo-item">
                    <img src="https://via.placeholder.com/400x250/E0FFFF/00008B?text=Nossas+Fotos+1" alt="Foto do casal 1">
                    <div class="caption">Nosso primeiro encontro</div>
                </div>
                <div class="photo-item">
                    <img src="https://via.placeholder.com/400x250/4169E1/FFFFFF?text=Nossas+Fotos+2" alt="Foto do casal 2">
                    <div class="caption">Pedido de casamento</div>
                </div>
                <div class="photo-item">
                    <img src="https://via.placeholder.com/400x250/00008B/E0FFFF?text=Nossas+Fotos+3" alt="Foto do casal 3">
                    <div class="caption">Momentos felizes juntos</div>
                </div>
                <div class="photo-item">
                    <img src="https://via.placeholder.com/400x250/E0FFFF/00008B?text=Nossas+Fotos+4" alt="Foto do casal 4">
                    <div class="caption">Viagem inesquecível</div>
                </div>
                <div class="photo-item">
                    <img src="https://via.placeholder.com/400x250/4169E1/FFFFFF?text=Nossas+Fotos+5" alt="Foto do casal 5">
                    <div class="caption">Pré-casamento</div>
                </div>
                <div class="photo-item">
                    <img src="https://via.placeholder.com/400x250/00008B/E0FFFF?text=Nossas+Fotos+6" alt="Foto do casal 6">
                    <div class="caption">Com a família</div>
                </div>
            </div>
            <p style="margin-top: 30px;">Em breve, mais fotos da nossa história!</p>
        </div>

        <div class="section-content" id="rifa">
            <h2>Rifa da Lua de Mel!</h2>
            <p>Participe da nossa rifa para nos ajudar a ter uma lua de mel inesquecível! Escolha um número da sorte e concorra a um brinde especial!</p>
            <p>Cada número custa **R$ [Valor do Número]**.</p>
            <p>Selecione um número disponível:</p>
            <div id="raffle-numbers">
                </div>

            <div id="raffle-confirmation" class="highlight-box">
                <h3>Número selecionado: <span id="selected-raffle-number"></span></h3>
                <p>Por favor, preencha seus dados para finalizarmos:</p>
                <label for="buyer-name">Seu Nome:</label>
                <input type="text" id="buyer-name" placeholder="Nome Completo" required>
                
                <label for="buyer-phone">Seu Celular (com DDD):</label>
                <input type="tel" id="buyer-phone" placeholder="(XX) XXXXX-XXXX" required>

                <p>Para confirmar e receber os dados para o pagamento (PIX), clique no botão abaixo:</p>
                <a href="#" id="confirm-raffle-btn" class="btn">Confirmar Número e Pagar</a>
                <p style="margin-top: 15px; font-size: 0.9em; color: #666;">Após a confirmação, entraremos em contato via WhatsApp com os detalhes para o pagamento e para registrar seu número.</p>
            </div>
        </div>
        <div class="section-content" id="historia">
            <h2>Nossa História</h2>
            <p>Em breve, compartilharemos os momentos mais marcantes da nossa jornada juntos, desde o primeiro encontro até o grande dia!</p>
        </div>

        <footer>
            <p>&copy; 2025 Yago & Jeniph. Todos os direitos reservados.</p>
            <p>Feito com amor para o nosso dia especial.</p>
        </footer>
    </div>

    <script>
        // Data do casamento: 29 de Outubro de 2025, 17h00 (5 PM)
        const weddingDate = new Date(2025, 9, 29, 17, 0, 0).getTime();

        const x = setInterval(function() {
            const now = new Date().getTime();
            const distance = weddingDate - now;

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById("days").innerHTML = days;
            document.getElementById("hours").innerHTML = hours;
            document.getElementById("minutes").innerHTML = minutes;
            document.getElementById("seconds").innerHTML = seconds;

            if (distance < 0) {
                clearInterval(x);
                document.getElementById("countdown").innerHTML = "<p style='font-size:1.5em; color: var(--cor-azul-escuro);'>O GRANDE DIA CHEGOU!</p>";
            }
        }, 1000);

        // JavaScript para rolagem suave (scroll suave)
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();

                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);

                const navbarHeight = document.querySelector('.navbar').offsetHeight;

                const elementPosition = targetElement.getBoundingClientRect().top + window.pageYOffset;
                const offsetPosition = elementPosition - navbarHeight;

                window.scrollTo({
                    top: offsetPosition,
                    behavior: "smooth"
                });
            });
        });

        // Lógica da Rifa
        const totalRaffleNumbers = 100; // Defina o total de números da sua rifa
        const raffleNumbersContainer = document.getElementById('raffle-numbers');
        const raffleConfirmationSection = document.getElementById('raffle-confirmation');
        const selectedRaffleNumberSpan = document.getElementById('selected-raffle-number');
        const buyerNameInput = document.getElementById('buyer-name');
        const buyerPhoneInput = document.getElementById('buyer-phone');
        const confirmRaffleBtn = document.getElementById('confirm-raffle-btn');

        let selectedNumber = null;
        let takenNumbers = JSON.parse(localStorage.getItem('takenRaffleNumbers')) || {}; // Carrega números ocupados

        // Função para gerar os números da rifa
        function generateRaffleNumbers() {
            raffleNumbersContainer.innerHTML = ''; // Limpa antes de gerar
            for (let i = 1; i <= totalRaffleNumbers; i++) {
                const numDiv = document.createElement('div');
                numDiv.classList.add('raffle-number-item');
                numDiv.textContent = i;
                numDiv.dataset.number = i;

                if (takenNumbers[i]) {
                    numDiv.classList.add('taken');
                } else {
                    numDiv.addEventListener('click', selectRaffleNumber);
                }
                raffleNumbersContainer.appendChild(numDiv);
            }
        }

        // Função para selecionar um número
        function selectRaffleNumber(event) {
            const clickedNumber = event.target;

            if (clickedNumber.classList.contains('taken')) {
                alert('Este número já foi selecionado. Por favor, escolha outro!');
                return;
            }

            // Desseleciona o número anterior, se houver
            if (selectedNumber) {
                const previousSelected = document.querySelector(`.raffle-number-item[data-number="${selectedNumber}"]`);
                if (previousSelected) {
                    previousSelected.classList.remove('selected');
                }
            }

            // Seleciona o novo número
            selectedNumber = parseInt(clickedNumber.dataset.number);
            clickedNumber.classList.add('selected');
            selectedRaffleNumberSpan.textContent = selectedNumber;
            raffleConfirmationSection.style.display = 'block'; // Mostra a seção de confirmação
            raffleConfirmationSection.scrollIntoView({ behavior: 'smooth', block: 'start' }); // Rola para a seção
        }

        // Função para confirmar a seleção (envia para WhatsApp)
        confirmRaffleBtn.addEventListener('click', function(event) {
            event.preventDefault(); // Evita que o link tente navegar
            
            const name = buyerNameInput.value.trim();
            const phone = buyerPhoneInput.value.trim();

            if (!selectedNumber || name === '' || phone === '') {
                alert('Por favor, selecione um número e preencha seu nome e celular.');
                return;
            }

            // Marca o número como ocupado no localStorage
            takenNumbers[selectedNumber] = { name: name, phone: phone };
            localStorage.setItem('takenRaffleNumbers', JSON.stringify(takenNumbers));

            // Atualiza a visualização da rifa
            updateRaffleNumberStatus(selectedNumber, 'taken');

            // Prepara a mensagem para o WhatsApp
            const whatsappMessage = `Olá! Acabei de selecionar o número *${selectedNumber}* da rifa de casamento do Yago e da Jeniph. Meu nome é *${name}* e meu celular é *${phone}*. Aguardo as informações para o pagamento!`;
            
            // Substitua [SEU_NUMERO_WHATSAPP_COM_DDD] pelo seu número de WhatsApp
            const whatsappLink = `https://wa.me/[SEU_NUMERO_WHATSAPP_COM_DDD]?text=${encodeURIComponent(whatsappMessage)}`;
            
            // Abre o WhatsApp
            window.open(whatsappLink, '_blank');

            // Limpa o formulário e reseta a seleção
            alert(`Parabéns, ${name}! O número ${selectedNumber} foi reservado para você. Por favor, finalize a compra pelo WhatsApp.`);
            
            selectedNumber = null;
            buyerNameInput.value = '';
            buyerPhoneInput.value = '';
            raffleConfirmationSection.style.display = 'none'; // Esconde a seção de confirmação
            generateRaffleNumbers(); // Regenera para garantir que todos vejam o número como ocupado
        });

        // Função para atualizar o status de um número individualmente
        function updateRaffleNumberStatus(number, status) {
            const numElement = document.querySelector(`.raffle-number-item[data-number="${number}"]`);
            if (numElement) {
                numElement.classList.remove('selected'); // Remove selected se estiver
                numElement.classList.remove('taken'); // Remove se já tinha
                numElement.classList.add(status); // Adiciona o novo status
                if (status === 'taken') {
                    numElement.removeEventListener('click', selectRaffleNumber); // Não permite mais clicar
                } else {
                    numElement.addEventListener('click', selectRaffleNumber);
                }
            }
        }

        // Inicializa a rifa ao carregar a página
        generateRaffleNumbers();

        // Para limpar a rifa (apenas para testes, não deixe isso visível no site final!)
        // Adicione um botão escondido ou chame esta função no console para resetar:
        // function resetRaffle() {
        //     if (confirm('Tem certeza que deseja resetar a rifa? Isso vai apagar todos os números selecionados!')) {
        //         localStorage.removeItem('takenRaffleNumbers');
        //         takenNumbers = {};
        //         generateRaffleNumbers();
        //         alert('Rifa resetada!');
        //     }
        // }
    </script>
</body>
</html>
